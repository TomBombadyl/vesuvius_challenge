_base_: exp001_3d_unet_topology.yaml

experiment:
  name: exp001_3d_unet_topology_smoke
  output_dir: runs/exp001_3d_unet_topology_smoke

model:
  base_channels: 32
  deep_supervision: false

data:
  patch_size: [64, 128, 128]
  patch_stride: [32, 96, 96]

training:
  max_epochs: 1
  val_interval: 1
  workers: 2
  accumulate_steps: 1

loss:
  components:
    - name: weighted_bce
      weight: 0.35
      pos_weight: 2.8
    - name: soft_dice
      weight: 0.35
      smooth: 1.0
    - name: cldice
      weight: 0.1
      smooth: 1.0
      skeleton_kernel: 3
    - name: morph_skeleton
      weight: 0.08
      iterations: 3
    - name: surface_distance
      weight: 0.0
      tolerance_mm: 2.0
    - name: toploss_simple
      weight: 0.05
      betti_threshold: 0.2

